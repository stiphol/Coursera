<h1>Практика по requests</h1>

В этом задании вы научитесь работать с библиотекой requests (<code>http://docs.python-requests.org/en/master/</code>), а также научитесь работать с API сервиса VK и его документаций, что является достаточно частой задачей разработчика.

Необходимо написать клиент к API VK , который будет считать распределение возрастов друзей для указанного пользователя. То есть на вход подается username или user_id пользователя, на выходе получаем список пар (<возраст>, <количество друзей с таким возрастом>), отсортированный по убыванию по второму ключу (количество друзей) и по возрастанию по первому ключу (возраст). Например:
<code>[(26, 8), (21, 6), (22, 6), (40, 2), (19, 1), (20, 1)]</code>

Для выполнения задания необходимо использовать шаблон проекта: <code>https://github.com/alexopryshko/coursera_assignment_tmp</code>

Решение должно быть файлом req/friends.py. В этом файле представлен шаблон функции calc_age, реализацию которой нужно написать.

Для этого вам понадобятся два метода API VK:

1. Метод для получения id пользователя (<code>https://vk.com/dev/users.get</code>). Он необходим, так как на вход может подаваться username пользователя. URL запроса к API VK: <code>https://api.vk.com/method/users.get</code>

2. Метод для получения списка друзей пользователя (<code>https://vk.com/dev/friends.get</code>). URL запроса к API VK: <code>https://api.vk.com/method/friends.get</code>

Для доступа к этим методам вам понадобится “Сервисный ключ доступа”:

<code>https://vk.com/dev/access_token?f=3.%20%D0%A1%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%BD%D1%8B%D0%B9%20%D0%BA%D0%BB%D1%8E%D1%87%20%D0%B4%D0%BE%D1%81%D1%82%D1%83%D0%BF%D0%B0</code>

<b>Получение сервисного ключа:</b>

1. Создать новое приложение, перейдя по ссылке <code>https://vk.com/apps?act=manage</code>

2. После создания приложения, перейти в раздел “настройки” и скопировать “Сервисный ключ доступа”.

Если нет возможности получить сервисный ключ, то можно использовать уже созданный:

<code>ACCESS_TOKEN = '17da724517da724517da72458517b8abce117da17da72454d235c274f1a2be5f45ee711'</code>

В итоге запросы будут иметь вид:

– Для получения id пользователя по username или user_id:

<code>https://api.vk.com/method/users.get?v=5.71&access_token=<token>&user_ids=<user_id></code>

– Для получения списка друзей:

<code>https://api.vk.com/method/friends.get?v=5.71&access_token=<token>&user_id=<user_id>&fields=bdate</code>

При решении задания обратите внимание на несколько моментов.

В запросе мы используем версию API VK - «5.71».
В запросе получения списка друзей добавлен ключ <code>fields=bdate</code>. Он необходим для того, чтобы API сразу вернуло пользователей с датами рождения.
При анализе ответа, полученного методом friends.get, можно заметить, что bdate есть не у всех пользователей и у некоторых в bdate отсутствует год рождения. Поэтому необходимо пропускать этот случай. Примеры возможных значений: <code>"bdate":"6.6", "bdate":"25.8.1993"</code>. Для вычисления возраста, необходимо взять текущий год (2018) и вычесть из него год рождения пользователя, полученный из API (без учета месяца и числа). Например: если "bdate" равно "25.8.1993" , то возраст будет 25.
В своем решении вы можете (если необходимо) определять дополнительные функции и импортировать модули.
